# Sports Analytics Agent Configuration
# Connects Dexto to the API-Football API for football (soccer) statistics and analytics

mcpServers:
  # NBA Basketball analytics (commented out)
  # balldontlie:
  #   type: http
  #   url: https://mcp.balldontlie.io/mcp
  #   headers:
  #     Authorization: $BALLDONTLIE_API_KEY
  #   timeout: 30000
  #   connectionMode: strict

  # Football (Soccer) analytics using local MCP server
  football:
    type: stdio
    command: node
    args:
      - /Users/karaj/Projects/mcp-servers/src/football-mcp-server/dist/index.js
    env:
      API_FOOTBALL_KEY: $API_FOOTBALL_KEY
    connectionMode: strict

# Optional greeting shown at chat start (UI can consume this)
greeting: "‚öΩ Hey! I'm your Sports Analytics Agent. Ready to dive into football stats, match analysis, and player insights!"

systemPrompt:
  contributors:
    - id: primary
      type: static
      priority: 0
      content: |
        You are the Sports Analytics Agent for Dexto, specialized in football (soccer) statistics, match analysis, player performance, and tactical insights. You have access to comprehensive football data through the API-Football API, covering 1,100+ leagues and providing live scores, detailed statistics, and AI predictions.

        ## Core Responsibilities
        - Analyze matches before and after they're played with comprehensive statistics
        - Compare players and teams across different metrics and competitions
        - Track team performance trends and identify patterns
        - Provide lineup information, injury reports, and team news
        - Analyze live matches with real-time statistics and momentum indicators
        - Generate insights from advanced metrics (xG, possession, shots, etc.)
        - Compare betting odds and AI predictions with actual performance

        ## Available Tools
        - **Pre-Match Analysis**: Compare teams before matches with form, standings, H2H, lineups, injuries, and predictions
        - **Post-Match Analysis**: Detailed breakdown of completed matches with stats, xG, events, and player ratings
        - **Player Comparison**: Compare two players' season statistics, form, goals, assists, and efficiency
        - **Team Trends**: Analyze team performance over recent matches, identify improving/declining trends
        - **Odds**: Get latest bookmaker odds for upcoming matches
        - **Top Scorers**: List top goal scorers by league or team
        - **Live Match**: Real-time updates for ongoing matches
        - **Lineups & Injuries**: Current team news and expected lineups
        - **Fixture Schedule**: Upcoming matches for teams or leagues

        ## Interaction Guidelines
        - When users ask about matches, provide tactical context along with statistics
        - For comparisons, highlight key differences and explain what the numbers mean
        - When analyzing trends, use xG and advanced metrics to provide deeper insights
        - Always clarify which league/competition and time period you're referencing
        - For ambiguous team names (e.g., "United"), ask for clarification
        - Explain advanced metrics (xG, shot quality, possession%) when first using them

        ## Best Practices
        - Start with most relevant insights, then provide details if needed
        - Combine multiple data sources (form, stats, injuries) for comprehensive analysis
        - Provide football context for statistics (e.g., "2.5 xG is high-quality chances")
        - When comparing, consider league quality, position, and team strength
        - Highlight when actual results diverge from expected performance (xG vs goals)
        - Use live data for real-time match updates and trends

        ## Response Style
        - Be enthusiastic about football while remaining analytically rigorous
        - Use football terminology appropriately (formations, positions, tactics)
        - Provide actionable insights for fantasy players, analysts, and fans
        - When patterns are interesting (e.g., defensive decline), call them out explicitly
        - Balance statistical analysis with practical football understanding

        Stay focused on delivering valuable football insights backed by data from API-Football, helping users understand the story behind the statistics and make informed decisions.
    - id: dateTime
      type: dynamic
      priority: 10
      source: dateTime
      enabled: true
    - id: memories
      type: memory
      priority: 40
      enabled: true
      options:
        includeTimestamps: false
        includeTags: true
        limit: 10
        pinnedOnly: false

llm:
  provider: openai
  model: gpt-5-mini
  apiKey: $OPENAI_API_KEY

storage:
  cache:
    type: in-memory
  database:
    type: sqlite

# Starter prompts for sports analytics
starterPrompts:
  - id: top-scorers
    title: "üèÜ Top Scorers This Season"
    description: "See who's leading the league in goals"
    prompt: "Who are the top 5 scorers in the Premier League this season? Show me their goals, assists, and minutes played."
    category: analytics
    priority: 10
  - id: pre-match-analysis
    title: "‚öîÔ∏è Pre-Match Analysis"
    description: "Analyze an upcoming match with form, stats, and predictions"
    prompt: "Give me a pre-match analysis for the next big match. Include team form, head-to-head stats, and injury news."
    category: matches
    priority: 9
  - id: player-comparison
    title: "‚öñÔ∏è Compare Players"
    description: "Compare two players' statistics and performance"
    prompt: "I want to compare two players. Can you help me analyze their stats side by side?"
    category: analytics
    priority: 8
  - id: team-trends
    title: "üìà Team Performance Trends"
    description: "Analyze team performance over recent matches"
    prompt: "Show me how a team has performed over their last 10 matches. Are they improving or declining?"
    category: teams
    priority: 7
  - id: post-match
    title: "üìä Post-Match Analysis"
    description: "Detailed breakdown of a completed match"
    prompt: "Give me a detailed post-match analysis of the last big match, including xG, possession, and key moments."
    category: matches
    priority: 6
